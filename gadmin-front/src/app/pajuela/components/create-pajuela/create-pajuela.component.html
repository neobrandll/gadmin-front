<div class="container-fluid ctn" style="padding: 0">
  <app-menu-navbar [user]="user" [nombreEmpresa]="empresa.no_empresa"
                   *ngIf="user && empresa"></app-menu-navbar>
  <div class="container-fluid">
    <div class="row no-gutters justify-content-center" *ngIf="isLoading">
      <div class="col-3 center-block main-card">
        <app-loading-spinner></app-loading-spinner>
      </div>
    </div>
    <div class="row no-gutters justify-content-center" *ngIf="!isLoading">
      <div class="col-10">
        <div class="container-fluid main-card" style="padding-bottom: 20px">
          <div class="container-fluid ">
            <div class="row no-gutters justify-content-center">
              <div class="col-3 align-items-center">
                <img class="logo-img" src="assets/pajuela.png " alt="logo">
                <div class="mat-headline text-center" style="margin-top: 20px">CREAR PAJUELA</div>
              </div>
              <div class="col-9" *ngIf="pajuelaForm">
                <form style="display: inline" [formGroup]="pajuelaForm">
                  <div class="container-fluid">
                    <div class="row no-gutters justify-content-between" *ngIf="razas && maxDate">
                      <div class="col-3">
                        <mat-form-field>
                          <input matInput [matDatepicker]="datePicker" formControlName="date" [max]="maxDate" readonly>
                          <mat-datepicker-toggle [for]="datePicker" matSuffix></mat-datepicker-toggle>
                          <mat-datepicker #datePicker></mat-datepicker>
                          <mat-label>Fecha de la Pajuela</mat-label>
                        </mat-form-field>
                      </div>
                      <div class="col-3" *ngIf="razas">
                        <mat-form-field>
                          <mat-label>Raza</mat-label>
                          <mat-select formControlName="idRaza">
                            <mat-option value="Mestizo">Mestizo</mat-option>
                            <span *ngFor="let raza of razas">
                          <mat-option *ngIf="raza.de_raza.toLowerCase() != 'mestizo'"
                                      [value]="raza.id_raza">{{raza.de_raza}}</mat-option>
                            </span>
                          </mat-select>
                        </mat-form-field>
                      </div>
                      <div class="col-3">
                        <mat-form-field>
                          <mat-label>Código de la Pajuela</mat-label>
                          <input formControlName="coPajuela" matInput type="number" max="999999999">
                          <mat-error>
                            Debe de ser un número entero y de máximo 9 digitos
                          </mat-error>
                          <mat-hint>Debe de ser un número entero y de maximo 9 digitos</mat-hint>
                        </mat-form-field>
                      </div>
                      <div class="col-3">
                        <mat-form-field>
                          <mat-label>Descripcion de la Pajuela</mat-label>
                          <input matInput formControlName="dePajuela">
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row no-gutters justify-content-around" style="margin-top: 60px">
                      <div class="col-3 d-flex">
                        <button mat-raised-button color="primary" routerLink="/pajuela">
                          <div class="mat-headline" style="margin: 0">Volver</div>
                        </button>
                      </div>
                      <div class="col-3 d-flex">
                        <button mat-raised-button color="primary" [disabled]="pajuelaForm.invalid" (click)="onCreate()">
                          <div class="mat-headline" style="margin: 0">Crear Pajuela</div>
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

